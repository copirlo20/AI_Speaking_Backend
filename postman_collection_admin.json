{
  "info": {
    "name": "AI Speaking Test - Admin & Statistics APIs",
    "description": "Collection for testing admin and statistics endpoints",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Statistics",
      "item": [
        {
          "name": "Dashboard Stats",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/statistics/dashboard",
              "host": ["{{baseUrl}}"],
              "path": ["statistics", "dashboard"]
            }
          }
        },
        {
          "name": "Questions by Level",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/statistics/questions/by-level",
              "host": ["{{baseUrl}}"],
              "path": ["statistics", "questions", "by-level"]
            }
          }
        },
        {
          "name": "Exams by Status",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/statistics/exams/by-status",
              "host": ["{{baseUrl}}"],
              "path": ["statistics", "exams", "by-status"]
            }
          }
        },
        {
          "name": "Test Sessions by Status",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/statistics/test-sessions/by-status",
              "host": ["{{baseUrl}}"],
              "path": ["statistics", "test-sessions", "by-status"]
            }
          }
        },
        {
          "name": "Test Session Stats",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/statistics/test-sessions/{{testSessionId}}",
              "host": ["{{baseUrl}}"],
              "path": ["statistics", "test-sessions", "{{testSessionId}}"]
            }
          }
        },
        {
          "name": "Exam Stats",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/statistics/exams/{{examId}}",
              "host": ["{{baseUrl}}"],
              "path": ["statistics", "exams", "{{examId}}"]
            }
          }
        },
        {
          "name": "Recent Test Sessions",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/statistics/test-sessions/recent?limit=10",
              "host": ["{{baseUrl}}"],
              "path": ["statistics", "test-sessions", "recent"],
              "query": [
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            }
          }
        },
        {
          "name": "Stats by Date Range",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/statistics/by-date-range?startDate=2026-01-01T00:00:00&endDate=2026-01-13T23:59:59",
              "host": ["{{baseUrl}}"],
              "path": ["statistics", "by-date-range"],
              "query": [
                {
                  "key": "startDate",
                  "value": "2026-01-01T00:00:00"
                },
                {
                  "key": "endDate",
                  "value": "2026-01-13T23:59:59"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "User Management",
      "item": [
        {
          "name": "Get All Users",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/users?page=0&size=20",
              "host": ["{{baseUrl}}"],
              "path": ["users"],
              "query": [
                {
                  "key": "page",
                  "value": "0"
                },
                {
                  "key": "size",
                  "value": "20"
                }
              ]
            }
          }
        },
        {
          "name": "Get User by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/users/{{userId}}",
              "host": ["{{baseUrl}}"],
              "path": ["users", "{{userId}}"]
            }
          }
        },
        {
          "name": "Create User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"teacher1\",\n  \"password\": \"password123\",\n  \"fullName\": \"Nguyen Van Teacher\",\n  \"role\": \"TEACHER\",\n  \"isActive\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/users",
              "host": ["{{baseUrl}}"],
              "path": ["users"]
            }
          }
        },
        {
          "name": "Update User",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"teacher1\",\n  \"fullName\": \"Nguyen Van Teacher Updated\",\n  \"role\": \"TEACHER\",\n  \"isActive\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/users/{{userId}}",
              "host": ["{{baseUrl}}"],
              "path": ["users", "{{userId}}"]
            }
          }
        },
        {
          "name": "Change Password",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"newPassword\": \"newpassword123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/users/{{userId}}/change-password",
              "host": ["{{baseUrl}}"],
              "path": ["users", "{{userId}}", "change-password"]
            }
          }
        },
        {
          "name": "Toggle User Status",
          "request": {
            "method": "PUT",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/users/{{userId}}/toggle-status",
              "host": ["{{baseUrl}}"],
              "path": ["users", "{{userId}}", "toggle-status"]
            }
          }
        },
        {
          "name": "Delete User",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/users/{{userId}}",
              "host": ["{{baseUrl}}"],
              "path": ["users", "{{userId}}"]
            }
          }
        },
        {
          "name": "Count Active Users",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/users/count/active",
              "host": ["{{baseUrl}}"],
              "path": ["users", "count", "active"]
            }
          }
        }
      ]
    },
    {
      "name": "Admin",
      "item": [
        {
          "name": "Bulk Delete Questions",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"questionIds\": [1, 2, 3, 4, 5]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/admin/questions/bulk-delete",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "questions", "bulk-delete"]
            }
          }
        },
        {
          "name": "Bulk Update Exam Status",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"examIds\": [1, 2, 3],\n  \"status\": \"ACTIVE\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/admin/exams/bulk-update-status",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "exams", "bulk-update-status"]
            }
          }
        },
        {
          "name": "Get All Test Sessions (Admin)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/admin/test-sessions?status=COMPLETED&page=0&size=20",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "test-sessions"],
              "query": [
                {
                  "key": "status",
                  "value": "COMPLETED"
                },
                {
                  "key": "page",
                  "value": "0"
                },
                {
                  "key": "size",
                  "value": "20"
                }
              ]
            }
          }
        },
        {
          "name": "Cancel Test Session",
          "request": {
            "method": "PUT",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/admin/test-sessions/{{testSessionId}}/cancel",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "test-sessions", "{{testSessionId}}", "cancel"]
            }
          }
        },
        {
          "name": "Delete Test Session",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/admin/test-sessions/{{testSessionId}}",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "test-sessions", "{{testSessionId}}"]
            }
          }
        },
        {
          "name": "System Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/admin/health",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "health"]
            }
          }
        },
        {
          "name": "Get System Config",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/admin/config",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "config"]
            }
          }
        }
      ]
    },
    {
      "name": "Reports",
      "item": [
        {
          "name": "Export Test Session CSV",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/reports/test-session/{{testSessionId}}/export-csv",
              "host": ["{{baseUrl}}"],
              "path": ["reports", "test-session", "{{testSessionId}}", "export-csv"]
            }
          }
        },
        {
          "name": "Get Detailed Test Report",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/reports/test-session/{{testSessionId}}/detailed",
              "host": ["{{baseUrl}}"],
              "path": ["reports", "test-session", "{{testSessionId}}", "detailed"]
            }
          }
        },
        {
          "name": "Export Exam Sessions CSV",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/reports/exam/{{examId}}/export-csv",
              "host": ["{{baseUrl}}"],
              "path": ["reports", "exam", "{{examId}}", "export-csv"]
            }
          }
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:8080/api",
      "type": "string"
    },
    {
      "key": "userId",
      "value": "1",
      "type": "string"
    },
    {
      "key": "examId",
      "value": "1",
      "type": "string"
    },
    {
      "key": "testSessionId",
      "value": "1",
      "type": "string"
    }
  ]
}
